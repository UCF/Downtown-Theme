Array.prototype.filter||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),o=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=[],i=arguments[1],r=0;r<o;r++)if(r in e){var s=e[r];t.call(i,s,r,e)&&n.push(s)}return n});var WebcomAdmin={__init__:function(t){t('input[type="file"]').parents("form").attr("enctype","multipart/form-data"),t('input[type="file"]').parents("form").attr("encoding","multipart/form-data")},shortcodeTool:function(t){var e,o=this;(o.metabox=t("#shortcodes-metabox"),o.metabox.length<1)?console.log("no meta"):(o.form=o.metabox.find("form"),o.search=o.metabox.find("#shortcode-search"),o.button=o.metabox.find("button"),o.results=o.metabox.find("#shortcode-results"),o.select=o.metabox.find("#shortcode-select"),o.formURL=o.metabox.find("#shortcode-form").val(),o.textURL=o.metabox.find("#shortcode-text").val(),o.shortcodes=(e=[],o.select.children(".shortcode").each(function(){e.push(t(this).val())}),e),o.shortcodeAction=function(t){send_to_editor("["+t+"]")},o.searchAction=function(){o.results.children().remove();var e=o.search.val();if(!(e.length<1)){var n=o.shortcodes.filter(function(t,o,n){return t.match(e)});n.length>1&&o.results.removeClass("empty"),t(n).each(function(){var e=t("<li />"),n=t("<a />");n.attr("href","#"),n.addClass("shortcode"),n.text(this.valueOf()),e.append(n),o.results.append(e)}),n.length>1?o.results.removeClass("empty"):o.results.addClass("empty")}},o.buttonAction=function(){o.searchAction()},o.itemAction=function(){var e=t(this).text();return o.shortcodeAction(e),!1},o.selectAction=function(){var e=t(this).find(".shortcode:selected");if(!(e.length<1)){var n=e.val();o.shortcodeAction(n)}},o.results.width(o.search.outerWidth()),o.search.keyup(function(t){if(o.searchAction(),13==t.keyCode)return!1}),o.button.click(o.buttonAction),o.select.change(o.selectAction),o.results.find("li a.shortcode").live("click",o.itemAction))},themeOptions:function(t){var e=this;e.active=null,e.parent=t(".i-am-a-fancy-admin"),e.sections=t(".i-am-a-fancy-admin .fields .section"),e.buttons=t(".i-am-a-fancy-admin .sections .section a"),this.showSection=function(o){var n=t(this),i=n.attr("href"),r=t(i);return e.buttons.removeClass("active"),n.addClass("active"),e.active.hide(),e.active=r,e.active.show(),history.pushState({},"",n.attr("href")),e.parent.find('input[name="_wp_http_referer"]').val(window.location),!1},this.__init__=function(){e.active=e.sections.first(),e.sections.not(e.active).hide(),e.buttons.first().addClass("active"),e.buttons.click(this.showSection),window.location.hash&&e.buttons.filter('[href="'+window.location.hash+'"]').click();var o=setInterval(function(){t(".updated").fadeOut(1e3),clearInterval(o)},2e3)},e.parent.length>0&&e.__init__()}};!function(t){WebcomAdmin.__init__(t),WebcomAdmin.themeOptions(t),WebcomAdmin.shortcodeTool(t)}(jQuery);